<mapper namespace="org.wso2.DeploymentMapper">

    <resultMap type="org.wso2.carbon.bpmn.core.mgt.model.DeploymentMetaDataModel" id="selectMetaDataMap">
        <id column="ID_" property="id"/>
        <result column="NAME_" property="packageName"/>
        <result column="TENANT_ID_" property="tenantID"/>
        <result column="CHECK_SUM_" property="checkSum"/>
    </resultMap>

    <!-- Default execution as PREPARED statements -->
    <select id="selectMetaData" resultMap="selectMetaDataMap">
        select * from BPS_BPMN_DEPLOYMENT_METADATA WHERE TENANT_ID_ = #{tenantID} AND NAME_ = #{name}
    </select>
    <select id="selectAllMetaData" resultMap="selectMetaDataMap">
        select * from BPS_BPMN_DEPLOYMENT_METADATA
    </select>

    <insert id="insertMetaData">
        insert into BPS_BPMN_DEPLOYMENT_METADATA   (ID_, NAME_, TENANT_ID_, CHECK_SUM_)
        values (#{id}, #{packageName}, #{tenantID}, #{checkSum})
    </insert>

    <update id="updateMetaData">
        update BPS_BPMN_DEPLOYMENT_METADATA set CHECK_SUM_ = #{checkSum} where NAME_=#{packageName} and TENANT_ID_ = #{tenantID}
    </update>

    <delete id="deleteMetaData">
        delete from BPS_BPMN_DEPLOYMENT_METADATA where  NAME_= #{packageName} and TENANT_ID_ = #{tenantID}
    </delete>

    </mapper>



